#@TYPE: Machine
#@NAME: QEMU ARMv8 machine
#@DESCRIPTION: Machine configuration for running an ARMv8 system on QEMU
require conf/machine/qemuarm64.conf

#MACHINE_EXTRA_RRECOMMENDS += " kernel-modules"
KERNEL_DEVICETREE = "xilinx/zynqmp-zcu102-qemu.dtb"
KBUILD_DEFCONFIG ?= "defconfig"
KCONFIG_MODE="--alldefconfig"

QB_DTB = "/zynqmp-zcu102-qemu.dtb"
QB_AUDIO_DRV = "alsa"
QB_AUDIO_OPT = "-soundhw all"
#QB_MACHINE = "-machine xlnx-zcu102"
#QB_MACHINE = "-machine versatilepb"
#QB_NETWORK_DEVICE = "-net nic,model=virtio,macaddr=@MAC@"
IMAGE_INSTALL_append = " python3-pyqt5"
IMAGE_INSTALL_append = " hardkey"
IMAGE_INSTALL_append = " libgpiod libgpiod-tools"
IMAGE_INSTALL_append = " acpica dtc alsa-utils"
